<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
    <div class="weather">
        <div class="weather__field">
            <input class="weather__input" type="text">
            <button class="weather__btn">Get weather</button>
            <div class="data"></div> 
        </div>
    </div>
<script>

    
const getWeather = (city) => (
    fetch(`https://community-open-weather-map.p.rapidapi.com/find?type=link%252C%20accurate&units=metric&q=${city}`, {
	"method": "GET",
	"headers": {
		"x-rapidapi-host": "community-open-weather-map.p.rapidapi.com",
		"x-rapidapi-key": "3ca14f9f7cmsh72394d559c4cd6dp1e5dddjsn1af633eec6e3"
	}
    })
    .then(response => ( response.json()))
    .then((res) => (res))
    .catch(err => {
        console.log(err);
    })
    );

const renderCity = (info) => {
    const container = document.querySelector('.data');
    const weatherData = info.list[0];
    container.innerHTML = `
        <div>City - ${weatherData.name}</div>
        <div>Rain - ${weatherData.rain}</div>
        <div>Sky - ${weatherData.weather[0].description}</div>
        <div>Temp_max - ${weatherData.main.temp_max}</div>
        <div>Temp_min - ${weatherData.main.temp_min}</div>
    `
}
    
document.querySelector('button').addEventListener('click', () => {
    const value = document.querySelector('input').value;
    // console.log();
    if (value) {
        getWeather(value).then((response) => {
            // console.log('response', response);
            renderCity(response);
        })
    }
})
    

</script>
<script src="js/script.js"></script>
</body>
</html>